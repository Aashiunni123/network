#include carpa/inet.h> #include <netinet/in.h>

#include <stdio.h>

#include <string.h>

#include <sys/socket.h>

#include <sys/stat.h> #include <sys/types.h>

#include <unistd.h>

void main() {

struct sockaddr_in client_address, server address;

int socket_descriptor 1, socket_descriptor_2; char message 1[18]", message_2[10] "";

socket_descriptor 1 socket(AF_INET, SOCK STREAM, 0); server address.sin family AF INET;

server address.sin port 2000;

server_address.sin_addr.s_addr inet_adde("127.0.0.1"); bind (socket_descriptor 1, (struct sockaddr )&server address, sizeof(server_address));

listen(socket_descriptor_1, 1);

int size_of_client_address sizeof(client_address),

socket_descriptor_2- accept(socket_descriptor 1, (struct sockaddr *)&client_address, &size_of_client_address);

while (1) (

recv(socket_descriptor_2, message 1, sizeof(message_1), e), if (strcmp(message 1, "end") -- 0) break; printf("\nServer "); send (socket_descriptor 2, message_2, sizeof(message_2), 0);

printf("\nClient: %s", message_1);

scanf("%s", message_2);

if (strcmp(message_2, "end")==0)

break;

close(socket_descriptor_2);

close(socket_descriptor_1);
